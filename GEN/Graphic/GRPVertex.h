/*------------------------------------------------------------------------------------------
//	GRPVERTEX.H
*/	
/**	
// \class 
//   
//  vertex data
//   
//	@author	 Diego Martinez Ruiz de Gaona
//
//	Date Of Creation	: 19/05/2014 12:47:56
//	Last Modification	:	
*/	
/*	GEN  Copyright (C).  All right reserved.
//----------------------------------------------------------------------------------------*/
	
#ifndef _GRPVERTEX_H_
#define _GRPVERTEX_H_
	
/*---- INCLUDES --------------------------------------------------------------------------*/

#include "GRPOpenGL.h"
	
/*---- DEFINES & ENUMS  ------------------------------------------------------------------*/



#if  defined(HW_PC) || defined(ANDROID)

//#define GRPVERTEX_EXTENDED
//#define GRPVERTEX_SKINNING

#ifndef GRPDEFORMERS_ACTIVE
#define GRPDEFORMERS_ACTIVE
#endif

#endif


#define ENABLED_GRPVERTEX_CHANNEL_POSITION
#define ENABLED_GRPVERTEX_CHANNEL_NORMAL

#ifdef GRPVERTEX_EXTENDED
#define ENABLED_GRPVERTEX_CHANNEL_BINORMAL
#define ENABLED_GRPVERTEX_CHANNEL_TANGENT
#endif

#define ENABLED_GRPVERTEX_CHANNEL_TEXTURE

#ifdef GRPVERTEX_EXTENDED

//#define ENABLED_GRPVERTEX_CHANNEL_INSTANCEID
#ifdef GRPVERTEX_SKINNING
#define ENABLED_GRPVERTEX_CHANNEL_BONE_INDEX
#define ENABLED_GRPVERTEX_CHANNEL_BONE_WEIGHTS
#endif

#ifdef GRPDEFORMERS_ACTIVE
#define ENABLED_GRPVERTEX_CHANNEL_MORPH

#endif
#endif


enum GRPVERTEX_CHANNEL
{

		GRPVERTEX_CHANNEL_POSITION									=0,
		GRPVERTEX_CHANNEL_NORMAL,

		GRPVERTEX_CHANNEL_BINORMAL,
		GRPVERTEX_CHANNEL_TANGENT,

		GRPVERTEX_CHANNEL_TEXTURE,
		GRPVERTEX_CHANNEL_BONE_INDEX,
		GRPVERTEX_CHANNEL_BONE_WEIGHTS,

		GRPVERTEX_CHANNEL_MORPH_POSITION1,
		GRPVERTEX_CHANNEL_MORPH_POSITION2,
		GRPVERTEX_CHANNEL_MORPH_POSITION3,
		GRPVERTEX_CHANNEL_MORPH_POSITION4,
		GRPVERTEX_CHANNEL_MORPH_POSITION5,
		GRPVERTEX_CHANNEL_MORPH_POSITION6,
		GRPVERTEX_CHANNEL_MORPH_POSITION7,
		GRPVERTEX_CHANNEL_MORPH_POSITION8,
		GRPVERTEX_CHANNEL_MORPH_POSITION9,
		GRPVERTEX_CHANNEL_MORPH_POSITION10,
		GRPVERTEX_CHANNEL_MORPH_POSITION11,
		GRPVERTEX_CHANNEL_MORPH_POSITION12,
		GRPVERTEX_CHANNEL_MORPH_MAX,
		GRPVERTEX_CHANNEL_MAX

};
	enum GRPVERTEX_CHANNEL_SIZE
{
		GRPVERTEX_CHANNEL_POSITION_SIZE							=3,
		GRPVERTEX_CHANNEL_NORMAL_SIZE								=3,
		GRPVERTEX_CHANNEL_BINORMAL_SIZE							=3,
		GRPVERTEX_CHANNEL_TANGENT_SIZE							=3,
		GRPVERTEX_CHANNEL_TEXTURE_SIZE							=2,
		GRPVERTEX_CHANNEL_COLOR_SIZE								=4,
		GRPVERTEX_CHANNEL_INSTANCE_SIZE							=1,


#ifdef GRPVERTEX_SKINNING
		GRPVERTEX_CHANNEL_BONE_INDEX_SIZE						=4,
		GRPVERTEX_CHANNEL_BONE_WEIGHTS_SIZE					=4,
#endif

#ifdef GRPDEFORMERS_ACTIVE
		GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE				=3,		

#endif

};
	enum GRPVERTEX_CHANNEL_OFFSET
	{
			GRPVERTEX_CHANNEL_OFFSET_POSITION = 0,
			GRPVERTEX_CHANNEL_OFFSET_NORMAL = GRPVERTEX_CHANNEL_OFFSET_POSITION + GRPVERTEX_CHANNEL_POSITION_SIZE,

#ifdef GRPVERTEX_EXTENDED
			GRPVERTEX_CHANNEL_OFFSET_BINORMAL = GRPVERTEX_CHANNEL_OFFSET_NORMAL + GRPVERTEX_CHANNEL_NORMAL_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_TANGENT = GRPVERTEX_CHANNEL_OFFSET_BINORMAL + GRPVERTEX_CHANNEL_BINORMAL_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_TEXTURE = GRPVERTEX_CHANNEL_OFFSET_TANGENT + GRPVERTEX_CHANNEL_TANGENT_SIZE,			
#else
			GRPVERTEX_CHANNEL_OFFSET_TEXTURE = GRPVERTEX_CHANNEL_OFFSET_NORMAL + GRPVERTEX_CHANNEL_NORMAL_SIZE,
#endif

			//GRPVERTEX_CHANNEL_OFFSET_COLOR = GRPVERTEX_CHANNEL_OFFSET_TEXTURE + GRPVERTEX_CHANNEL_TEXTURE_SIZE,

#ifdef GRPVERTEX_SKINNING
			GRPVERTEX_CHANNEL_OFFSET_BONE_INDEX = GRPVERTEX_CHANNEL_OFFSET_COLOR + GRPVERTEX_CHANNEL_COLOR_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_BONE_WEIGHTS = GRPVERTEX_CHANNEL_OFFSET_BONE_INDEX + GRPVERTEX_CHANNEL_BONE_INDEX_SIZE,
#endif


#ifdef GRPDEFORMERS_ACTIVE
#ifdef GRPVERTEX_SKINNING
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION1 = GRPVERTEX_CHANNEL_OFFSET_BONE_WEIGHTS + GRPVERTEX_CHANNEL_BONE_WEIGHTS_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION2 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION1 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION3 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION2 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION4 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION3 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION5 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION4 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION6 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION5 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION7 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION6 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION8 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION7 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION9 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION8 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION10 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION9 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION11 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION10 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION12 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION11 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,

			GRPVERTEX_CHANNEL_OFFSET_MAX = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION12
#else
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION1 = GRPVERTEX_CHANNEL_OFFSET_TEXTURE + GRPVERTEX_CHANNEL_TEXTURE_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION2 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION1 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION3 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION2 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION4 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION3 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION5 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION4 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION6 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION5 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION7 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION6 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION8 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION7 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION9 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION8 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION10 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION9 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION11 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION10 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,
			GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION12 = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION11 + GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE,

			GRPVERTEX_CHANNEL_OFFSET_MAX = GRPVERTEX_CHANNEL_OFFSET_MORPH_POSITION12
#endif
#else
			GRPVERTEX_CHANNEL_OFFSET_MAX = GRPVERTEX_CHANNEL_OFFSET_TEXTURE
#endif
	
};
		
/*---- CLASS -----------------------------------------------------------------------------*/

//NOTA:: no borrar los attributos en los comentarios 

struct GRPVERTEX
{
	//-------- wire
	
		GLFLOAT				position								[GRPVERTEX_CHANNEL_POSITION_SIZE			];
		GLFLOAT				normal									[GRPVERTEX_CHANNEL_NORMAL_SIZE				];

#ifdef GRPVERTEX_EXTENDED

		GLFLOAT				binormal								[GRPVERTEX_CHANNEL_BINORMAL_SIZE			];
		GLFLOAT				tangent									[GRPVERTEX_CHANNEL_TANGENT_SIZE				];

#endif

		GLFLOAT				texturecoordinates			[GRPVERTEX_CHANNEL_TEXTURE_SIZE				];			

	//-------- skinning
#ifdef GRPVERTEX_SKINNING

		GLFLOAT				boneIndices							[GRPVERTEX_CHANNEL_BONE_INDEX_SIZE		];
		GLFLOAT				boneWeights							[GRPVERTEX_CHANNEL_BONE_WEIGHTS_SIZE	];	
#endif

#ifdef GRPDEFORMERS_ACTIVE	
	//-------- deforms

		GLFLOAT				positionMorph1					[GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE];
		GLFLOAT				positionMorph2					[GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE];
		GLFLOAT				positionMorph3					[GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE];
		GLFLOAT				positionMorph4					[GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE];
		GLFLOAT				positionMorph5					[GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE];	
		GLFLOAT				positionMorph6					[GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE];
		GLFLOAT				positionMorph7					[GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE];
		GLFLOAT				positionMorph8					[GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE];	
		GLFLOAT				positionMorph9					[GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE];
		GLFLOAT				positionMorph10					[GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE];
		GLFLOAT				positionMorph11					[GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE];
		GLFLOAT				positionMorph12					[GRPVERTEX_CHANNEL_MORPH_POSITION_SIZE];
#endif

};
/*---- INLINE FUNCTIONS ------------------------------------------------------------------*/
	
#endif

